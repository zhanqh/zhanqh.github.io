<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>SQL 基本语法 | zhanqh</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">SQL 基本语法</h1><a id="logo" href="/.">zhanqh</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-book"> 笔记</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">SQL 基本语法</h1><div class="post-meta">Jun 10, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#增"><span class="toc-number">1.</span> <span class="toc-text">增</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#从其他表增加数据"><span class="toc-number">1.1.</span> <span class="toc-text">从其他表增加数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#全部列"><span class="toc-number">1.1.1.</span> <span class="toc-text">全部列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#部分列"><span class="toc-number">1.1.2.</span> <span class="toc-text">部分列</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#从初始化语句插入数据"><span class="toc-number">1.2.</span> <span class="toc-text">从初始化语句插入数据</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#全部列-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">全部列</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#部分列-1"><span class="toc-number">1.3.</span> <span class="toc-text">部分列</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#删"><span class="toc-number">2.</span> <span class="toc-text">删</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DROP-删除表"><span class="toc-number">2.1.</span> <span class="toc-text">DROP 删除表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DELETE-删除部分数据"><span class="toc-number">2.2.</span> <span class="toc-text">DELETE 删除部分数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TRUNCATE-清空表数据"><span class="toc-number">2.3.</span> <span class="toc-text">TRUNCATE 清空表数据</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#改"><span class="toc-number">3.</span> <span class="toc-text">改</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#对表结构的修改"><span class="toc-number">3.1.</span> <span class="toc-text">对表结构的修改</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#新增列"><span class="toc-number">3.1.1.</span> <span class="toc-text">新增列</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#删除列"><span class="toc-number">3.1.2.</span> <span class="toc-text">删除列</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对数据的修改"><span class="toc-number">3.2.</span> <span class="toc-text">对数据的修改</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#对数据类型的修改"><span class="toc-number">3.3.</span> <span class="toc-text">对数据类型的修改</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#查"><span class="toc-number">4.</span> <span class="toc-text">查</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#查询表结构"><span class="toc-number">4.1.</span> <span class="toc-text">查询表结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#全表查询"><span class="toc-number">4.2.</span> <span class="toc-text">全表查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#特定列查询"><span class="toc-number">4.3.</span> <span class="toc-text">特定列查询</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#条件查询"><span class="toc-number">4.4.</span> <span class="toc-text">条件查询</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#修改客户端字符集乱码"><span class="toc-number">5.</span> <span class="toc-text">修改客户端字符集乱码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#索引"><span class="toc-number">6.</span> <span class="toc-text">索引</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#模糊查询"><span class="toc-number">7.</span> <span class="toc-text">模糊查询</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#count"><span class="toc-number">8.</span> <span class="toc-text">count</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#union"><span class="toc-number">9.</span> <span class="toc-text">union</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#order-by"><span class="toc-number">10.</span> <span class="toc-text">order by</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Having"><span class="toc-number">11.</span> <span class="toc-text">Having</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LEFT-JOIN"><span class="toc-number">12.</span> <span class="toc-text">LEFT JOIN</span></a></li></ol></div></div><div class="post-content"><p>建表</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">CREATE TABLE IF NOT EXISTS input(</div><div class="line">id bigint(20) NOT NULL AUTO_INCREMENT,</div><div class="line">mid bigint(20) COMMENT &apos;用户id&apos;,</div><div class="line">sex varchar(50) COMMENT &apos;性别&apos;,</div><div class="line">age int(10) COMMENT &apos;年龄&apos;,</div><div class="line">degree varchar(50) COMMENT &apos;学位&apos;,</div><div class="line">create_ymd varchar(50),</div><div class="line">PRIMARY KEY (id),</div><div class="line">INDEX mid_index(mid)</div><div class="line">);</div></pre></td></tr></table></figure>
<h2 id="增"><a href="#增" class="headerlink" title="增"></a>增</h2><h3 id="从其他表增加数据"><a href="#从其他表增加数据" class="headerlink" title="从其他表增加数据"></a>从其他表增加数据</h3><h4 id="全部列"><a href="#全部列" class="headerlink" title="全部列"></a>全部列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">input</span></div><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> input_base</div></pre></td></tr></table></figure>
<h4 id="部分列"><a href="#部分列" class="headerlink" title="部分列"></a>部分列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">input</span> (<span class="keyword">id</span>, <span class="keyword">mid</span>, sex)</div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">id</span>, <span class="keyword">mid</span>, sex <span class="keyword">FROM</span> input_base</div></pre></td></tr></table></figure>
<h3 id="从初始化语句插入数据"><a href="#从初始化语句插入数据" class="headerlink" title="从初始化语句插入数据"></a>从初始化语句插入数据</h3><h4 id="全部列-1"><a href="#全部列-1" class="headerlink" title="全部列"></a>全部列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">input</span> <span class="keyword">VALUES</span></div><div class="line">    (<span class="string">'0'</span>,<span class="string">'120'</span>,<span class="string">'男'</span>,<span class="string">'45'</span>,<span class="string">'本科'</span>,<span class="string">'2017-6-11'</span>);</div><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">input</span> <span class="keyword">VALUES</span></div><div class="line">    (<span class="string">'0'</span>,<span class="string">'130'</span>,<span class="string">'女'</span>,<span class="string">'35'</span>,<span class="string">'初中'</span>,<span class="string">'2017-6-11'</span>);</div></pre></td></tr></table></figure>
<h3 id="部分列-1"><a href="#部分列-1" class="headerlink" title="部分列"></a>部分列</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">input</span> (<span class="keyword">id</span>, <span class="keyword">mid</span>, sex) <span class="keyword">VALUES</span> (<span class="string">'0'</span>,<span class="string">'140'</span>, <span class="string">'男'</span>);</div></pre></td></tr></table></figure>
<h2 id="删"><a href="#删" class="headerlink" title="删"></a>删</h2><p>DROP/TRUNCATE/DELETE</p>
<p>差异：<br>功能上：TRUNCATE 和 DELETE 只删除数据，不删表的结构，DROP 还会删除表结构和相关依赖（索引等）<br>效率上：DROP &gt; TRUNCATE &gt; DELETE<br>安全性上：没有备份前，小心使用 DROP 和 TRUNCATE。如果涉及事务处理，就用 DELETE<br>适用性：<br>    删除部分数据，使用 DELETE…WHERE… 结构<br>    删除表，使用 DROP<br>    保留表结构删除所有数据，使用 TRUNCATE<br>效果性：DELETE 不影响表所占用的 extent；DROP 将表所占用的空间全部释放；TRUNCATE 将空间释放到 minextents 个 extent</p>
<h3 id="DROP-删除表"><a href="#DROP-删除表" class="headerlink" title="DROP 删除表"></a>DROP 删除表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">input</span>;</div></pre></td></tr></table></figure>
<h3 id="DELETE-删除部分数据"><a href="#DELETE-删除部分数据" class="headerlink" title="DELETE 删除部分数据"></a>DELETE 删除部分数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">input</span> <span class="keyword">WHERE</span> sex=<span class="string">'男'</span></div></pre></td></tr></table></figure>
<h3 id="TRUNCATE-清空表数据"><a href="#TRUNCATE-清空表数据" class="headerlink" title="TRUNCATE 清空表数据"></a>TRUNCATE 清空表数据</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="keyword">input</span></div></pre></td></tr></table></figure>
<h2 id="改"><a href="#改" class="headerlink" title="改"></a>改</h2><h3 id="对表结构的修改"><a href="#对表结构的修改" class="headerlink" title="对表结构的修改"></a>对表结构的修改</h3><h4 id="新增列"><a href="#新增列" class="headerlink" title="新增列"></a>新增列</h4><p>首位</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">input</span> <span class="keyword">ADD</span> <span class="keyword">uuid</span></div><div class="line">    <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">COMMENT</span> <span class="string">'唯一标识'</span> <span class="keyword">first</span>;</div></pre></td></tr></table></figure>
<p>末尾</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">input</span> <span class="keyword">ADD</span> <span class="keyword">num</span></div><div class="line">    <span class="built_in">int</span>(<span class="number">10</span>) <span class="keyword">COMMENT</span> <span class="string">'文章数量'</span>;</div></pre></td></tr></table></figure>
<p>指定位置</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">input</span> <span class="keyword">ADD</span> amount</div><div class="line">    <span class="built_in">INT</span>(<span class="number">20</span>) <span class="keyword">COMMENT</span> <span class="string">'总额'</span> <span class="keyword">AFTER</span> <span class="keyword">mid</span>;</div></pre></td></tr></table></figure>
<h4 id="删除列"><a href="#删除列" class="headerlink" title="删除列"></a>删除列</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">input</span></div><div class="line">    <span class="keyword">DROP</span> <span class="keyword">uuid</span>;</div></pre></td></tr></table></figure>
<h3 id="对数据的修改"><a href="#对数据的修改" class="headerlink" title="对数据的修改"></a>对数据的修改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">UPDATE</span> <span class="keyword">input</span> <span class="keyword">SET</span> <span class="keyword">num</span> = <span class="number">5</span> <span class="keyword">WHERE</span> sex=<span class="string">'女'</span>;</div></pre></td></tr></table></figure>
<h3 id="对数据类型的修改"><a href="#对数据类型的修改" class="headerlink" title="对数据类型的修改"></a>对数据类型的修改</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="keyword">input</span> <span class="keyword">MODIFY</span></div><div class="line">    <span class="keyword">COLUMN</span> degree <span class="built_in">VARCHAR</span>(<span class="number">100</span>);</div></pre></td></tr></table></figure>
<h2 id="查"><a href="#查" class="headerlink" title="查"></a>查</h2><h3 id="查询表结构"><a href="#查询表结构" class="headerlink" title="查询表结构"></a>查询表结构</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DESC input;</div></pre></td></tr></table></figure>
<h3 id="全表查询"><a href="#全表查询" class="headerlink" title="全表查询"></a>全表查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">input</span> <span class="keyword">LIMIT</span> <span class="number">10</span>;</div></pre></td></tr></table></figure>
<h3 id="特定列查询"><a href="#特定列查询" class="headerlink" title="特定列查询"></a>特定列查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">id</span>,<span class="keyword">mid</span>,sex <span class="keyword">FROM</span> <span class="keyword">input</span> <span class="keyword">LIMIT</span> <span class="number">10</span>;</div></pre></td></tr></table></figure>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">id</span>,<span class="keyword">mid</span>,sex <span class="keyword">FROM</span> <span class="keyword">input</span> <span class="keyword">WHERE</span> sex=<span class="string">'女'</span> <span class="keyword">LIMIT</span> <span class="number">10</span>;</div></pre></td></tr></table></figure>
<h2 id="修改客户端字符集乱码"><a href="#修改客户端字符集乱码" class="headerlink" title="修改客户端字符集乱码"></a>修改客户端字符集乱码</h2><p>查询默认编码格式：<code>SHOW VARIABLES LIKE &quot;%char%&quot;;</code></p>
<p>乱码一般是有编码格式不一致引起的，设置一致的编码格式<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SET</span> character_set_client=<span class="string">'utf-8'</span>;</div><div class="line"><span class="keyword">SET</span> character_set_connection=<span class="string">'utf-8'</span>;</div><div class="line"><span class="keyword">SET</span> character_set_results=<span class="string">'utf-8'</span>;</div></pre></td></tr></table></figure></p>
<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><p>它可以加快查询速度，但同时也降低了增删改的速度</p>
<pre><code>* 不要过度简历索引
* 在查询最频繁的列上增加索引
* 构建索引的列尽量是离散值
</code></pre><p>索引类型：</p>
<pre><code>* 普通索引：index 加快查询速度
* 唯一索引：unique index 不一定是主键索引，一张表可以有多个
* 主键索引：primary key 不能重复
</code></pre><p>查看表的所有索引：<code>SHOW index FROM input;</code></p>
<h2 id="模糊查询"><a href="#模糊查询" class="headerlink" title="模糊查询"></a>模糊查询</h2><ul>
<li>%：通配任意个字符</li>
<li>_：通配一个字符</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">input</span> <span class="keyword">WHERE</span> active_area <span class="keyword">LIKE</span> <span class="string">'%省%'</span>;</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">input</span> <span class="keyword">WHERE</span> active_area <span class="keyword">LIKE</span> <span class="string">'%市'</span>;</div></pre></td></tr></table></figure>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="keyword">input</span> <span class="keyword">WHERE</span> active_area <span class="keyword">LIKE</span> <span class="string">'_市'</span>;</div></pre></td></tr></table></figure>
<h2 id="count"><a href="#count" class="headerlink" title="count"></a>count</h2><ul>
<li><code>count(*)</code>查询绝对行数，即使一行所有字段都为 NULL，也计入行数</li>
<li><code>count(列名)</code>查询该列所有不为 NULL 的行数</li>
</ul>
<h2 id="union"><a href="#union" class="headerlink" title="union"></a>union</h2><p>合并两个或者多个 SELECT 语句的结果集</p>
<p>不允许重复<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">mid</span>,sex,age</div><div class="line"><span class="keyword">FROM</span> input1</div><div class="line"><span class="keyword">UNION</span></div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">mid</span>,sex,age</div><div class="line"><span class="keyword">FROM</span> input2</div></pre></td></tr></table></figure></p>
<p>允许重复<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">mid</span>,sex,age</div><div class="line"><span class="keyword">FROM</span> input1</div><div class="line"><span class="keyword">UNION</span> ALL</div><div class="line"><span class="keyword">SELECT</span> <span class="keyword">mid</span>,sex,age</div><div class="line"><span class="keyword">FROM</span> input2</div></pre></td></tr></table></figure></p>
<h2 id="order-by"><a href="#order-by" class="headerlink" title="order by"></a>order by</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">mid</span>,age,sex</div><div class="line"><span class="keyword">FROM</span> <span class="keyword">input</span></div><div class="line"><span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="keyword">mid</span> <span class="keyword">DESC</span>,age <span class="keyword">ASC</span></div><div class="line"><span class="keyword">LIMIT</span> <span class="number">10</span></div></pre></td></tr></table></figure>
<h2 id="Having"><a href="#Having" class="headerlink" title="Having"></a>Having</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> <span class="keyword">mid</span>,<span class="keyword">count</span>(member_grade) <span class="keyword">AS</span> <span class="keyword">num</span></div><div class="line"><span class="keyword">FROM</span> <span class="keyword">input</span></div><div class="line"><span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="keyword">mid</span></div><div class="line"><span class="keyword">HAVING</span>(<span class="keyword">num</span>)&gt;=<span class="number">1</span></div></pre></td></tr></table></figure>
<h2 id="LEFT-JOIN"><a href="#LEFT-JOIN" class="headerlink" title="LEFT JOIN"></a>LEFT JOIN</h2><p>以左表为基准，返回所有的行，匹配右表对应的值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">SELECT</span> s1.mid, s1.age, s1.sex, s2.course</div><div class="line"><span class="keyword">FROM</span> input1 <span class="keyword">AS</span> s1</div><div class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> inout2 <span class="keyword">AS</span> s2</div><div class="line"><span class="keyword">ON</span> (s1.mid = s2.mid)</div></pre></td></tr></table></figure>
<p>INNER JOIN、RIGHT JOIN、FULL JOIN 同理</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://blog.zhanqh.com/2017/06/10/SQL 基本语法/" data-id="cj4v2wsaf001qnbrc6z5x53u7" class="article-share-link">分享到</a><div class="tags"><a href="/tags/Linux/">Linux</a></div><div class="post-nav"><a href="/2017/06/12/MongoDB/" class="pre">MongoDB 基础知识</a><a href="/2017/06/09/使用 Scrapyd 分布式部署 Scrapy 爬虫/" class="next">使用 Scrapyd 分布式部署 Scrapy 爬虫</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://blog.zhanqh.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/实践/">实践</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/工作/">工作</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/爬虫/">爬虫</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/工作笔记/" style="font-size: 15px;">工作笔记</a> <a href="/tags/web/" style="font-size: 15px;">web</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/hosts/" style="font-size: 15px;">hosts</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/h5/" style="font-size: 15px;">h5</a> <a href="/tags/iOS/" style="font-size: 15px;">iOS</a> <a href="/tags/Charles/" style="font-size: 15px;">Charles</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/crawler/" style="font-size: 15px;">crawler</a> <a href="/tags/Scrapy/" style="font-size: 15px;">Scrapy</a></div></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">zhanqh.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>